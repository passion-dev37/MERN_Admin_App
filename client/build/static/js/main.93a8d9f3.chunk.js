(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1433:function(e,a){},1435:function(e,a){},1443:function(e,a,t){},1444:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),l=t.n(o),i=t(17),c=t(14),s=t(21),u=t(22),m=t(23),d=t(212),p=t(322),g=t(1487),h=t(11),f=t(7),b=t(19),E=t(1478),y=t(1479),v=t(1477),w=t(80),O=t(468),k=t(1448),C=t(320),S=t(535),j=t(107),D=t(735),T=t.n(D),L=t(734),A=t.n(L),x=t(1445),I=t(3),N=t(534),R=t(466),F=t(5),_=t(474),U=t.n(_),M=t(319),G=t.n(M),P=(t(799),t(701)),B=t.n(P),W=t(740),V=null,H={en:{id:"en",label:"en",flag:"/images/flags/24/United-States.png",dictionary:{app:{title:"MERN-stack App"},frame:{menu:"frame",adminApp:"Admin App"},settings:{title:"Settings",menu:"Settings",route:"settings",fields:{theme:"Theme"}},dashboard:{menu:"Home",route:"dashboard",message:"This page uses fake data for demonstration purposes only.",websiteViews:"Website Views",companies:"Company Statistics",table:{userActivities:"User Activities",name:"name",email:"email",role:"role",explanation:"explanation",type:"type",dateLogged:"date logged"},doughnutChart:{title:"Login Statistics"}},useradmin:{menu:"UserAdmin",route:"useradmin",message:"This page uses fake data for demonstration purposes only.",userDetail:"User Detail",email:"email",company:"company",name:"name",role:"role",password:"password",createUser:"Create User",id:"id",registerDate:"register Date",table:{title:"User List"}},developer:{menu:"Developer",route:"developer",message:"This page uses fake data for demonstration purposes only."},cv:{menu:"CV",route:"cv",message:"This page uses fake data for demonstration purposes only."},errors:{401:"Go to login page",403:"Do not have to access to this page",404:"Page Not Found",500:"Internal Error",forbidden:{message:"Forbidden"},validation:{message:"An error occurred"}},language:{language:"English"},MuiDataTable:{next:"next page",previous:"previous page",rowsPerPage:"rows per page: ",displayRows:"of",viewColumns:"view columns",search:"search",downloadCsv:"download CSV",print:"print",filterTable:"filter table",filterTitle:"filters",reset:"reset",viewColumnsTitle:"show columns",selectedRowsText:"rows(s) selected",delete:"delete"}},antd:void 0},chinese:{id:"chinese",label:"chinese",flag:"/images/flags/24/Brazil.png",dictionary:{app:{title:"MERN-stack \u5e94\u7528"},frame:{menu:"\u6846\u67b6",adminApp:"\u7ba1\u7406\u5e94\u7528"},settings:{title:"\u8bbe\u7f6e",menu:"\u8bbe\u7f6e",fields:{theme:"\u4e3b\u9898"}},dashboard:{menu:"\u4e3b\u9875",route:"\u4e3b\u9875",message:"\u672c\u9875\u4f7f\u7528\u5047\u6570\u636e..",websiteViews:"\u6d4f\u89c8\u91cf",companies:"\u516c\u53f8\u7edf\u8ba1",table:{userActivities:"\u7528\u6237\u6d3b\u52a8",name:"\u540d\u79f0",email:"\u90ae\u4ef6",role:"\u89d2\u8272",explanation:"\u89e3\u91ca",type:"\u7c7b\u578b",dateLogged:"\u8bb0\u5f55\u65e5\u671f"},doughnutChart:{title:"\u767b\u5f55\u7edf\u8ba1"}},useradmin:{menu:"\u7528\u6237\u7ba1\u7406",route:"\u7528\u6237\u7ba1\u7406",message:"\u672c\u9875\u4f7f\u7528\u5047\u6570\u636e..",userDetail:"\u7528\u6237\u8be6\u60c5",email:"\u90ae\u7bb1",company:"\u516c\u53f8",name:"\u540d\u5b57",role:"\u89d2\u8272",password:"\u5bc6\u7801",id:"id",registerDate:"\u6ce8\u518c\u65f6\u95f4",createUser:"\u521b\u5efa\u7528\u6237",table:{title:"\u7528\u6237\u5217\u8868"}},developer:{menu:"\u5f00\u53d1\u8005",route:"\u5f00\u53d1\u8005",message:"\u672c\u9875\u4f7f\u7528\u5047\u6570\u636e.."},cv:{menu:"\u7b80\u5386",route:"\u7b80\u5386",message:"\u672c\u9875\u4f7f\u7528\u5047\u6570\u636e.."},errors:{401:"\u8bf7\u5148\u767b\u5f55",403:"\u6ca1\u6709\u8bbf\u95ee\u6743\u9650",404:"\u9875\u9762\u4e0d\u5b58\u5728",500:"\u670d\u52a1\u5668\u7206\u70b8"},language:{language:"\u4e2d\u6587"},MuiDataTable:{next:"\u4e0b\u9875",previous:"\u4e0a\u9875",rowsPerPage:"\u6bcf\u9875\u884c\u6570",displayRows:"\u603b\u5171",viewColumns:"\u770b\u5217",search:"\u641c\u7d22",downloadCsv:"\u4e0b\u8f7dCSV",print:"\u6253\u5370",filterTable:"\u8fc7\u6ee4\u8868\u683c",filterTitle:"\u8fc7\u6ee4",reset:"reset",viewColumnsTitle:"\u770b\u5217",selectedRowsText:"\u884c\u5df2\u9009\u4e2d",delete:"\u5220\u9664"}},antd:B.a}};function z(){return H[function(){V||J(V=localStorage.getItem("language")||"en");return V}()]}function q(e,a){if(!e)return null;try{return e.replace(/{(\d+)}/g,(function(e,t){return"undefined"!=typeof a[t]?a[t]:e}))}catch(t){throw console.error(e,t),t}}function J(e){if(!H[e])throw new Error("Invalid language ".concat(e,"."));G.a.locale(e),localStorage.setItem("language",e),z().dictionary.validation&&Object(W.a)(z().dictionary.validation)}function Q(e){var a=U()(z().dictionary,e);if(!a)return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return q(a,n)}var Z=t(702),Y=t.n(Z),$=t(36),X=t(138),K=t(131),ee=t.n(K),ae=Object(p.a)({spacing:4}),te={paper:{marginTop:"25%",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"5%",paddingBottom:"5%",paddingLeft:"15%",paddingRight:"15%"},avatar:{margin:ae.spacing(1),backgroundColor:ae.palette.secondary.main},form:{width:"100%",marginTop:ae.spacing(1),flexDirection:"column"},submit:{margin:ae.spacing(3,0,2)},content:{flexGrow:1,height:"100vh",overflow:"auto"},topBar:{justifyContent:"center"}},ne=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onGoToLogin=function(e){t.props.history.push("/")},t.onGoBack=function(e){t.props.history.goBack()},t.handleCloseSnackbar=function(){t.setState({msg:null})},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.code;return r.a.createElement("div",null,r.a.createElement(v.a,null),r.a.createElement(E.a,{position:"relative"},r.a.createElement(S.a,{className:t.topBar},r.a.createElement(k.a,{direction:"right",in:!0,timeout:500},r.a.createElement(j.a,{style:{color:"white"},variant:"h5",noWrap:!0},n+" "+Q("errors."+n)+': "'+this.props.location.pathname+'"   :(')))),r.a.createElement(R.a,{style:{marginTop:"5%"}}),r.a.createElement(y.a,{maxWidth:"lg",className:t.content},r.a.createElement(Y.a,{url:"https://www.youtube.com/watch?v=6dNho0h_yQQ",playing:!1,width:"100%"}),function(){switch(n){case"404":case"400":return r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:e.onGoBack},"Go back");case"401":return r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:e.onGoToLogin},Q("errors.401"));default:return null}}()))}}]),a}(n.Component),re=ee()(Object(F.a)(te),Object($.b)((function(e){return{}}),{}))(Object(X.g)(ne)),oe=t(340),le=t(245),ie=t.n(le),ce=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:a,id:t}}},se=function(){return{type:"CLEAR_ERRORS"}},ue=t(1481),me=t(705),de=t(544),pe=t(1482),ge=t(1483),he=t(1484),fe=t(710),be=t.n(fe),Ee=t(706),ye=t.n(Ee),ve=t(707),we=t.n(ve),Oe=t(704),ke=t.n(Oe),Ce=t(18),Se=t.n(Ce),je=t(4),De=t(16),Te=Object(C.a)((function(){return{avatar:{width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},text:{color:"white"}}}));function Le(e){e.color;var a=Object(je.a)(e,["color"]),t=Te(),n=(Object(De.a)(),a.name.split(" ").map((function(e){return e[0]})).join(""));return r.a.createElement("div",{className:t.avatar,style:{backgroundColor:"green"}},r.a.createElement(j.a,{className:t.text},n))}var Ae=t(1480),xe=t(52),Ie=t.n(xe),Ne=function(){return function(e,a){e({type:"USER_LOADING"});var t=Ie.a.get("/api/auth/user",_e(a));return Ie.a.get("/api/auth/user",_e(a)).then((function(a){return e({type:"USER_LOADED",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status)),e({type:"AUTH_ERROR"})})),t}},Re=function(e){return function(a){a({type:"LOADING"});var t=e.name,n=e.email,r=e.password,o=e.role,l=e.company,i=JSON.stringify({name:t,email:n,password:r,role:o,company:l});return Ie.a.post("/api/users",i,{headers:{"Content-Type":"application/json"}}).then((function(e){return a({type:"REGISTER_SUCCESS",payload:e.data})})).catch((function(e){a(ce(e.response.data,e.response.status,"REGISTER_FAIL")),a({type:"REGISTER_FAIL"})}))}},Fe=function(){return{type:"LOGOUT_SUCCESS"}},_e=function(e){var a=e().auth.token,t={headers:{"Content-type":"application/json"}};return a&&(t.headers["x-auth-token"]=a),t},Ue=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleOnClick=function(){t.props.logout(),t.props.history.push("/signin")},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Ae.a,{onClick:this.handleOnClick,color:"inherit"},"Log Out")}}]),a}(n.Component),Me=Object(X.g)(Object($.b)(null,{logout:Fe})(Ue)),Ge=(t(272),t(708)),Pe=t.n(Ge),Be=t(709),We=t.n(Be),Ve=Object(C.a)((function(e){return{logotype:Object(f.a)({color:"white",marginLeft:e.spacing(2.5),marginRight:e.spacing(2.5),fontWeight:500,fontSize:18,whiteSpace:"nowrap"},e.breakpoints.down("xs"),{display:"none"}),appBar:{width:"100vw",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},hide:{display:"none"},grow:{flexGrow:1},headerMenu:{marginTop:e.spacing(7)},headerMenuList:{display:"flex",flexDirection:"column"},headerMenuButton:{marginLeft:e.spacing(2),padding:e.spacing(.5)},headerMenuButtonCollapse:{marginRight:e.spacing(2)},headerIcon:{fontSize:28},headerIconCollapse:{color:"white"},menu:{minWidth:265},menuUser:{display:"flex",flexDirection:"column",padding:e.spacing(2)},menuLink:{fontSize:16,textDecoration:"none"},messageNotification:{height:"auto",display:"flex",alignItems:"center","&:hover, &:focus":{backgroundColor:e.palette.background.light}},messageNotificationSide:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:e.spacing(2)},messageNotificationBodySide:{alignItems:"flex-start",marginRight:0},sendMessageButton:{margin:e.spacing(4),marginTop:e.spacing(2),marginBottom:e.spacing(2),textTransform:"none"},sendButtonIcon:{marginLeft:e.spacing(2)}}}));function He(e){var a=r.a.useState(null),t=Object(h.a)(a,2),o=(t[0],t[1],Ve()),l=Object(n.useState)(null),i=Object(h.a)(l,2),c=i[0],s=i[1],u=Object(n.useState)(!0),m=Object(h.a)(u,2),d=m[0],p=m[1],g=Object(n.useState)(null),f=Object(h.a)(g,2),b=f[0],E=f[1],y=Object(n.useState)(null),v=Object(h.a)(y,2),w=v[0],k=v[1],C=[{id:0,variant:"warning",name:"Jane Hew",message:"Hey! How is it going?",time:"9:32"},{id:1,variant:"success",name:"Lloyd Brown",message:"Check out my new Dashboard",time:"9:18"},{id:2,variant:"primary",name:"Mark Winstein",message:"I want rearrange the appointment",time:"9:15"},{id:3,variant:"secondary",name:"Liana Dutti",message:"Good news from sale department",time:"9:09"}],S=function(e){J(e),window.location.reload()};return r.a.createElement("div",null,r.a.createElement(O.a,{color:"inherit","aria-haspopup":"true","aria-controls":"language-menu",onClick:function(e){k(e.currentTarget)},className:o.headerMenuButton},r.a.createElement(ue.a,{color:"secondary"},r.a.createElement(ke.a,{classes:{root:o.headerIcon}}),r.a.createElement(j.a,null,Q("language.language")))),r.a.createElement(me.a,{id:"language-menu",open:Boolean(w),anchorEl:w,onClose:function(){return k(null)},className:o.headerMenu,classes:{paper:o.menu},disableAutoFocusItem:!0},r.a.createElement(de.a,{onClick:function(){S("chinese")}},"\u4e2d\u6587"),r.a.createElement(de.a,{onClick:function(){return S("en")}},"english")),r.a.createElement(O.a,{color:"inherit","aria-haspopup":"true","aria-controls":"theme-menu",onClick:function(a){"dark"!==localStorage.getItem("theme")?(localStorage.setItem("theme","dark"),e.themeCallback()):localStorage.setItem("theme","default"),e.themeCallback()},className:o.headerMenuButton},r.a.createElement(ue.a,{color:"secondary"},"dark"==localStorage.getItem("theme")?r.a.createElement(ye.a,{classes:{root:o.headerIcon},className:"swayTranslate"}):r.a.createElement(we.a,{classes:{root:o.headerIcon},className:"swayTranslate"}))),r.a.createElement(O.a,{color:"inherit","aria-haspopup":"true","aria-controls":"mail-menu",onClick:function(e){s(e.currentTarget),p(!1)},className:o.headerMenuButton},r.a.createElement(ue.a,{badgeContent:d?C.length:null,color:"secondary"},c?r.a.createElement(Pe.a,{classes:{root:o.headerIcon},className:"bounce"}):r.a.createElement(We.a,{classes:{root:o.headerIcon},className:"bounce"}))),r.a.createElement(me.a,{id:"mail-menu",open:Boolean(c),anchorEl:c,onClose:function(){return s(null)},MenuListProps:{className:o.headerMenuList},className:o.headerMenu,classes:{paper:o.menu},disableAutoFocusItem:!0},r.a.createElement("div",{className:o.menuUser},r.a.createElement(j.a,{variant:"h4"},"New Messages"),r.a.createElement(j.a,{className:o.menuLink,component:"a",color:"secondary"},C.length," New Messages")),C.map((function(e){return r.a.createElement(de.a,{key:e.id,className:o.messageNotification},r.a.createElement("div",{className:o.messageNotificationSide},r.a.createElement(Le,{color:e.variant,name:e.name}),r.a.createElement(j.a,null,e.time)),r.a.createElement("div",{className:Se()(o.messageNotificationSide,o.messageNotificationBodySide)},r.a.createElement(j.a,{gutterBottom:!0},e.name),r.a.createElement(j.a,null,e.message)))})),r.a.createElement(pe.a,{variant:"extended",color:"primary","aria-label":"Add",className:o.sendMessageButton},"Send New Message",r.a.createElement(ge.a,{className:o.sendButtonIcon}))),r.a.createElement(O.a,{"aria-haspopup":"true",color:"inherit",className:o.headerMenuButton,"aria-controls":"profile-menu",onClick:function(e){return E(e.currentTarget)}},b?r.a.createElement(he.a,{classes:{root:o.headerIcon},className:"swirl"}):r.a.createElement(be.a,{classes:{root:o.headerIcon},className:"swirl"})),r.a.createElement(me.a,{id:"profile-menu",open:Boolean(b),anchorEl:b,onClose:function(){return E(null)},className:o.headerMenu,classes:{paper:o.menu},disableAutoFocusItem:!0},r.a.createElement("div",{className:o.menuUser},r.a.createElement(j.a,{variant:"h4"},"Mark Zhu"),r.a.createElement(j.a,{component:"a",color:"secondary",href:"https://www.linkedin.com/in/mark-zhu-06b807145/"},"https://www.linkedin.com/in/mark-zhu-06b807145/"),r.a.createElement(j.a,{component:"a",color:"secondary",href:"https://github.com/MarkZhuVUW"},"https://github.com/MarkZhuVUW/")),r.a.createElement(de.a,null,r.a.createElement(he.a,null)," Profile"),r.a.createElement(de.a,null,r.a.createElement(he.a,null)," Tasks"),r.a.createElement(de.a,null,r.a.createElement(he.a,null)," Messages"),r.a.createElement("div",{className:o.menuUser},r.a.createElement(Me,null))))}var ze=t(1486),qe=t(1451),Je=t(1452),Qe=t(1485),Ze=t(545),Ye=t(713),$e=t.n(Ye),Xe=t(711),Ke=t.n(Xe),ea=t(714),aa=t.n(ea),ta=t(712),na=t.n(ta),ra=t(54),oa=Object(C.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function la(e){var a=oa(),t=r.a.useState(e.currentIndex),n=Object(h.a)(t,2),o=n[0],l=n[1],i=function(a,t){l(t),e.callback(t)};return r.a.createElement("div",{className:a.root},r.a.createElement(qe.a,{component:"nav","aria-label":"main mailbox folders"},"admin"===e.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(ra.b,{to:"/frame/dashboard",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},r.a.createElement(Je.a,{button:!0,selected:0===o,onClick:function(e){return i(0,0)}},r.a.createElement(Qe.a,null,r.a.createElement(Ke.a,{className:0===o?"swirl":null,color:0===o?"primary":"action"})),r.a.createElement(Ze.a,{primary:Q("dashboard.menu")}))),r.a.createElement(ze.a,null),r.a.createElement(ra.b,{to:"/frame/developer",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},r.a.createElement(Je.a,{button:!0,selected:1===o,onClick:function(e){return i(0,1)}},r.a.createElement(Qe.a,null,r.a.createElement(na.a,{className:1===o?"swirl":null,color:1===o?"primary":"action"})),r.a.createElement(Ze.a,null,Q("developer.menu")))),r.a.createElement(ra.b,{to:"/frame/useradmin",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},r.a.createElement(Je.a,{button:!0,selected:2===o,onClick:function(e){return i(0,2)}},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:2===o?"swirl":null,color:2===o?"primary":"action"})),r.a.createElement(Ze.a,{primary:Q("useradmin.menu")})))):null,r.a.createElement(ra.b,{to:"/frame/cv",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},r.a.createElement(Je.a,{button:!0,selected:3===o,onClick:function(e){return i(0,3)}},r.a.createElement(Qe.a,null,r.a.createElement(aa.a,{className:3===o?"swirl":null,color:3===o?"primary":"action"})),r.a.createElement(Ze.a,{primary:Q("cv.menu")})))))}var ia=t(164),ca=t(251),sa=(t(552),t(1498)),ua=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,{style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(sa.a,null,this.props.items.map((function(e){return r.a.createElement(sa.a.Item,{key:e[0]},e[0])}))))}}]),a}(n.Component),ma=t(726),da=t.n(ma);function pa(e){var a=r.a.useState(null),t=Object(h.a)(a,2),n=t[0],o=t[1],l=r.a.useState(1),i=Object(h.a)(l,2),c=i[0],s=i[1],u=function(a){o(null),a===parseInt(a,10)&&(s(a),e.setPageNumCallback(a))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},c),r.a.createElement(me.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:u,style:{width:"100%"}},e.numPagesArray.map((function(e){return r.a.createElement(de.a,{key:e,onClick:function(){return u(e)}},e)}))))}ca.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ca.pdfjs.version,"/pdf.worker.js");var ga=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleDownload=function(e){console.log(t.props.user);var a=t.props.user,n=a._id,r={name:a.name,email:a.email,role:a.role,explanation:e,type:"DOWNLOAD",company:a.company};t.props.logDownload(n,r),t.toggle()},t.toggle=function(){t.props.clearErrors()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement(fa,{isSmallScreen:this.props.isSmallScreen,handleDownload:this.handleDownload})}}]),a}(n.Component),ha=Object($.b)((function(e){return{user:e.auth.user}}),{logDownload:function(e,a){return function(t,n){var r=JSON.stringify({log:a});Ie.a.patch("/api/users/".concat(e,"/logs"),r,_e(n)).then((function(e){return t({type:"DOWNLOAD_LOGGED"})})).catch((function(e){t(ce(e.response.data,e.response.status))}))}},clearErrors:se})(ga);function fa(e){var a=Object(C.a)((function(a){return{root:{backgroundColor:"#E9EAED",width:"100%"},container:{paddingTop:a.spacing(1),paddingBottom:a.spacing(1)},smallScreenPaper:{padding:a.spacing(e.isSmallScreen?1:4),display:"flex",overflow:"auto",flexDirection:"row",backgroundColor:"white"},paper:{justifyContent:"center",alignItems:"center",padding:a.spacing(e.isSmallScreen?1:4),display:"flex",overflow:"auto",flexDirection:"row",backgroundColor:"white"},heading:{fontSize:a.typography.pxToRem(15),fontWeight:a.typography.fontWeightRegular},expansionPanelHeader:{backgroundColor:"#3F51B5",color:"white"},box:{justifyContent:"center",alignItems:"center"}}}))(),t=r.a.useState(1),n=Object(h.a)(t,2),o=n[0],l=n[1],i=r.a.useState(null),c=Object(h.a)(i,2),s=c[0],u=c[1],m=r.a.useState(null),d=Object(h.a)(m,2),p=d[0],g=d[1],f=function(e){for(var a=[],t=1;t<=e;++t)a.push(t);return a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ua,{items:[[Q("frame.menu"),"/"],[Q("cv.route")]]}),r.a.createElement(ia.a,{className:e.isSmallScreen?a.smallScreenPaper:a.paper},r.a.createElement(ca.Document,{file:da.a,onLoadSuccess:function(e){var a=e.numPages;u(a),g(f(a))}},r.a.createElement(ca.Page,{pageNumber:o,width:e.isSmallScreen?null:1e3}))),p?r.a.createElement(R.a,{display:"flex",flexDirection:"row",alignItems:"center",className:a.box},r.a.createElement(j.a,null,"Page"),r.a.createElement(pa,{numPagesArray:p,setPageNumCallback:function(e){l(e)}}),r.a.createElement(j.a,null,"of ",s),r.a.createElement(Ae.a,{href:"".concat("","/Mark_Zhu_CV.pdf"),target:"_blank",download:!0,onClick:function(){return e.handleDownload("Mark_Zhu_CV.pdf")},style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},r.a.createElement(R.a,{m:2},r.a.createElement(j.a,null,"Download CV")))):null)}var ba=t(1494),Ea=t(727),ya=t.n(Ea);function va(e){return r.a.createElement(ya.a,{title:e.title,data:e.data,columns:e.columns,options:e.options})}var wa=t(210),Oa=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).chartRef=r.a.createRef(),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new wa.Chart(this.chartRef.current,{type:"doughnut",data:{labels:[Q("home.charts.red"),Q("home.charts.green"),Q("home.charts.yellow")],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},options:{legend:{display:!1}}})}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.chartRef})}}]),a}(r.a.Component),ka=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).chartRef=r.a.createRef(),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new wa.Chart(this.chartRef.current,{type:"line",data:{datasets:[{data:[11,16,7,3,14],backgroundColor:["#FF6384","#4BC0C0","#FFCE56","#E7E9ED","#36A2EB"]}],labels:[Q("home.charts.red"),Q("home.charts.green"),Q("home.charts.yellow"),Q("home.charts.grey"),Q("home.charts.blue")]},options:{legend:{display:!1}}})}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.chartRef})}}]),a}(r.a.Component),Ca=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).chartRef=r.a.createRef(),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new wa.Chart(this.chartRef.current,{type:"polarArea",data:{datasets:[{data:[11,16,7,3,14],backgroundColor:["#FF6384","#4BC0C0","#FFCE56","#E7E9ED","#36A2EB"]}],labels:[Q("home.charts.red"),Q("home.charts.green"),Q("home.charts.yellow"),Q("home.charts.grey"),Q("home.charts.blue")]},options:{legend:{display:!1}}})}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.chartRef})}}]),a}(r.a.Component),Sa=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={},t.toggle=function(){t.props.clearErrors()},t.deleteLogCallback=function(e){t.props.deleteLog(t.props.user._id,e)},t.onSubmit=function(e){e.preventDefault(),t.toggle()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.loadAllLogsForSpecificUser(e.props.user._id)}),1e3)}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){this.props.classes;return r.a.createElement("div",null,r.a.createElement(Da,{allLogs:this.props.allLogs,deleteLogCallback:this.deleteLogCallback}))}}]),a}(n.Component),ja=Object($.b)((function(e){return{error:e.error,allLogs:e.admin.allLogs,user:e.auth.user}}),{clearErrors:se,loadAllLogsForSpecificUser:function(){return function(e,a){Ie.a.get("/api/admin/logs",_e(a)).then((function(a){return e({type:"ALL_LOGS_LOADED",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status)),e({type:"LOAD_LOGS_ERROR"})}))}},loadUser:Ne,deleteLog:function(e,a){return function(t,n){Ie.a.delete("/api/users/".concat(e,"/logs/").concat(a),_e(n)).then((function(e){return t({type:"LOG_DELETED",payload:a})})).catch((function(e){return t(ce(e.response.data,e.response.status))}))}}})(Object(x.a)({})(Sa));function Da(e){var a=Object(C.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:260},smallScreenFixedHeight:{height:360}}}))(),t=[{name:"id",label:"id",options:{filter:!0,sort:!0}},{name:Q("dashboard.table.name"),label:Q("dashboard.table.name"),options:{filter:!0,sort:!0}},{name:Q("dashboard.table.email"),label:Q("dashboard.table.email"),options:{filter:!0,sort:!0}},{name:Q("dashboard.table.role"),label:Q("dashboard.table.role"),options:{filter:!0,sort:!0}},{name:Q("dashboard.table.explanation"),label:Q("dashboard.table.explanation"),options:{filter:!0,sort:!0}},{name:Q("dashboard.table.type"),label:Q("dashboard.table.type"),options:{filter:!0,sort:!0}},{name:Q("dashboard.table.dateLogged"),label:Q("dashboard.table.dateLogged"),options:{filter:!0,sort:!0}}],n=e.allLogs?e.allLogs.map((function(e){return[e._id,e.name,e.email,e.role,e.explanation,e.type,new Date(e.date_logged).toString()]})):[],o={filter:!0,responsive:"scrollMaxHeight",textLabels:{pagination:{next:Q("MuiDataTable.nextPage"),previous:Q("MuiDataTable.previousPage"),rowsPerPage:Q("MuiDataTable.rowsPerPage"),displayRows:Q("MuiDataTable.displayRows")},toolbar:{search:Q("MuiDataTable.search"),downloadCsv:Q("MuiDataTable.downloadCsv"),print:Q("MuiDataTable.print"),viewColumns:Q("MuiDataTable.viewColumns"),filterTable:Q("MuiDataTable.filterTable")},filter:{title:Q("MuiDataTable.filterTable"),reset:Q("MuiDataTable.filterTitle")},viewColumns:{title:Q("MuiDataTable.viewColumnsTitle")},selectedRows:{text:Q("MuiDataTable.selectedRowsText"),delete:Q("MuiDataTable.delete")}},onRowsDelete:function(a){for(var t=0;t<a.data.length;++t)e.deleteLogCallback(n[a.data[t].index][0]),console.log(a.data[t].index),console.log(n[t])}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ua,{items:[[Q("frame.menu"),"/"],[Q("dashboard.route")]]}),r.a.createElement(ba.a,{container:!0,spacing:e.isSmallScreen?1:3},r.a.createElement(ba.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(ia.a,{className:a.paper},r.a.createElement(j.a,{component:"h2",variant:"h6"},Q("dashboard.doughnutChart.title")),r.a.createElement(Oa,null))),r.a.createElement(ba.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(ia.a,{className:a.paper},r.a.createElement(j.a,{component:"h2",variant:"h6"},Q("dashboard.websiteViews")),r.a.createElement(ka,null))),r.a.createElement(ba.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(ia.a,{className:a.paper},r.a.createElement(j.a,{component:"h2",variant:"h6"},Q("dashboard.companies")),r.a.createElement(Ca,null))),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(va,{title:Q("dashboard.table.userActivities"),options:o,data:n,columns:t}))),r.a.createElement("p",{style:{width:"100%",textAlign:"center",color:"grey"}},Q("dashboard.message")))}var Ta=t(252),La=t.n(Ta),Aa=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.loadSwaggerUI(),this.props.swaggerUIDocs&&La()({dom_id:"#swaggerContainer",spec:this.props.swaggerUIDocs,presets:[Ta.presets.apis]})}},{key:"componentDidUpdate",value:function(){this.props.swaggerUIDocs&&La()({dom_id:"#swaggerContainer",spec:this.props.swaggerUIDocs,presets:[Ta.presets.apis]})}},{key:"render",value:function(){return r.a.createElement(Ia,{isSmallScreen:this.props.isSmallScreen})}}]),a}(n.Component),xa=Object($.b)((function(e){return{swaggerUIDocs:e.developer.swaggerUIDocs}}),{loadSwaggerUI:function(){return function(e,a){e({type:"LOADING"}),Ie.a.get("/api/swagger",function(e){var a=e().auth.token,t={headers:{"Content-type":"application/json"}};return a&&(t.headers["x-auth-token"]=a),t}(a)).then((function(a){return e({type:"SWAGGER_UI_LOADED",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status)),e({type:"LOAD_SWAGGER_UI_ERROR"})}))}}})(Aa);function Ia(e){var a=Object(C.a)((function(a){return{root:{backgroundColor:"#E9EAED",width:"100%"},container:{paddingTop:a.spacing(1),paddingBottom:a.spacing(1)},paper:{padding:a.spacing(e.isSmallScreen?1:4),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:"white"},heading:{fontSize:a.typography.pxToRem(15),fontWeight:a.typography.fontWeightRegular},expansionPanelHeader:{backgroundColor:"#3F51B5",color:"white"}}}))();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ua,{items:[[Q("frame.menu"),"/"],[Q("developer.route")]]}),r.a.createElement(ia.a,{className:a.paper},r.a.createElement("div",{id:"swaggerContainer"})))}var Na=t(575),Ra=t(471),Fa=t(1497),_a=t(1488),Ua=t(207),Ma=t(732),Ga=t.n(Ma),Pa=t(733),Ba=t.n(Pa),Wa=Object(C.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:Ua.a[500],"&:hover":{backgroundColor:Ua.a[700]}},fabProgress:{color:Ua.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:Ua.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function Va(e){var a=Wa(),t=r.a.useState(!1),n=Object(h.a)(t,2),o=n[0],l=n[1],i=r.a.useState(!1),c=Object(h.a)(i,2),s=c[0],u=c[1],m=r.a.useRef(),d=Object(I.a)(Object(f.a)({},a.buttonSuccess,s));r.a.useEffect((function(){return function(){clearTimeout(m.current)}}),[]);return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.wrapper},r.a.createElement(Fa.a,{in:!0},r.a.createElement(pe.a,{"aria-label":"save",color:"primary",className:d,onClick:function(){o||(u(!1),l(!0),m.current=setTimeout((function(){u(!0),l(!1)}),2e3),m.current=setTimeout((function(){e.callback(!1)}),3e3))}},s?r.a.createElement(Ga.a,null):r.a.createElement(Ba.a,null))),o&&r.a.createElement(_a.a,{size:68,className:a.fabProgress})),r.a.createElement("div",{className:a.wrapper},o?r.a.createElement(j.a,null):s?r.a.createElement(Fa.a,{in:!0},r.a.createElement(j.a,null,"done")):r.a.createElement(Fa.a,{in:!0},r.a.createElement(j.a,null,"submit"))))}var Ha=t(1500);function za(e){var a=Object(F.a)({root:{"& input:valid + fieldset":{borderWidth:1},"& input:invalid + fieldset":{borderColor:"red",borderWidth:1},"& input:valid:focus + fieldset":{borderLeftWidth:6,borderRightWidth:6,borderDownWidth:6,padding:"4px !important",borderColor:"#73A7FF"}}})(Na.a),t=e.typesOfUser.map((function(e){var a=e.type.toUpperCase();return Object(b.a)({type:/[0-9]/.test(a)?"0-9":a},e)})),n=function(a){e.dropdownSelectedCallback(a)};return r.a.createElement(Ha.a,{disabled:e.disabled,options:t.sort((function(e,a){return-a.type.localeCompare(e.type)})),groupBy:function(e){return e.type},getOptionLabel:function(e){return e.specific},renderInput:function(t){return r.a.createElement(a,{ref:t.InputProps.ref,inputProps:Object(b.a)({},t.inputProps,{readOnly:!0}),label:e.label,variant:"outlined",onChange:function(e,a){return n(a?a.specific:"")}})},onChange:function(e,a){return n(a?a.specific:"")}})}var qa=t(1489),Ja=t(1490),Qa=t(1491),Za=t(1492),Ya=t(1493),$a=(Object(p.a)({spacing:4}),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={open:!0,QRCode:"",code:"",domainName:""},t.toggle=function(){t.props.clearErrors()},t.handleClickOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.props.responsiveDialogCallback(),t.setState({open:!1})},t.onSubmit=function(e){e.preventDefault();var a=t.state.code;t.props.alertMsg;t.props.TFAVerify(t.props.email,a),t.toggle()},t.onChange=function(e){t.setState({code:e.target.value})},t.skipTFA=function(){t.props.skipTFA()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.email,t=(e.TFA,this.state.domainName);if("Google Two-Factor Auth"===this.props.title){var n={email:a,domainName:t};this.props.TFA||(this.props.TFASetup(n),this.props.getTFA(n))}}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.error,n=a.type;this.state.domainName;"true"==localStorage.getItem("authenticated")&&"User Admin Error Handling"!==n&&this.props.cb(!0),t!==e.error&&("TFA_VERIFY_FAIL"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.title,o=a.alertMsg,l=a.TFA,i=this.state.open,c=function(a){return r.a.createElement(qa.a,{open:i,fullScreen:a,onClose:e.handleClose,"aria-labelledby":"responsive-dialog-title",onBackdropClick:function(){e.props.logout()}},r.a.createElement(Ya.a,{id:"responsive-dialog-title"},n),r.a.createElement(Qa.a,null,r.a.createElement(Za.a,null,o),l?r.a.createElement("div",{className:t.centerItems},r.a.createElement("img",{src:l.dataURL})):null),"Google Two-Factor Auth"===n?r.a.createElement("div",{style:{width:"100%"}},l?r.a.createElement(Ja.a,null,r.a.createElement(Na.a,{autoFocus:!0,variant:"outlined",label:"enter code",fullWidth:!0,onChange:e.onChange}),r.a.createElement(N.a,{onClick:e.onSubmit,type:"submit",color:"dark"===localStorage.getItem("theme")?"default":"primary"},"submit"),r.a.createElement(N.a,{onClick:e.skipTFA},"skip TFA")):r.a.createElement(j.a,null,"Please click on the backdrop to close this dialog")):r.a.createElement(Ja.a,null,r.a.createElement(N.a,{onClick:e.handleClose,color:"dark"===localStorage.getItem("theme")?"default":"primary",autoFocus:!0},"OK")))};return r.a.createElement("div",null,r.a.createElement(ie.a,{query:"(max-device-width: 1224px)"},c(!0)),r.a.createElement(ie.a,{query:"(min-device-width: 1224px)"},c(!1)))}}]),a}(n.Component)),Xa=Object($.b)((function(e){return{error:e.error,TFA:e.auth.TFA,user:e.auth.user}}),{TFAVerify:function(e,a){return function(t){t({type:"TFA_ING"});var n=JSON.stringify({email:e,code:a});return Ie.a.post("/api/TFA/verify",n,{headers:{"Content-Type":"application/json"}}).then((function(e){return t({type:"TFA_VERIFED"})})).catch((function(e){t(ce(e.response.data,e.response.status,"TFA_VERIFY_FAIL")),t({type:"TFA_VERIFY_FAIL"})}))}},TFASetup:function(e){var a=e.email,t=e.domainName;return function(e){e({type:"TFA_ING"});var n=JSON.stringify({email:a,domainName:t});return Ie.a.post("/api/TFA/setup",n,{headers:{"Content-Type":"application/json"}}).then((function(a){e({type:"TFA_SETUP_SUCCESS",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status,"TFA_SETUP_FAIL")),e({type:"TFA_SETUP_FAIL"})}))}},getTFA:function(e){var a=e.email,t=e.domainName;return function(e){e({type:"TFA_ING"});var n=JSON.stringify({email:a,domainName:t});return Ie.a.post("/api/TFA/",n,{headers:{"Content-Type":"application/json"}}).then((function(a){e({type:"TFA_LOADED",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status,"TFA_LOAD_FAIL")),e({type:"TFA_LOAD_FAIL"})}))}},clearErrors:se,skipTFA:function(e,a){return function(e){e({type:"TFA_VERIFED"})}},logout:Fe})(Object(x.a)({centerItems:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"80%",margin:"0"}})($a)),Ka=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={msg:null},t.toggle=function(){t.props.clearErrors()},t.callback=function(e){t.props.deleteUser(e)},t.cb=function(e){t.props.deleteUser(e)},t.registerCallback=function(e){console.log(e),t.props.register(e).then((function(){t.props.loadAllUsers()})),t.toggle()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.loadAllUsers()}},{key:"componentDidUpdate",value:function(e){var a=this.props.error;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this.props,a=(e.classes,e.allUsers),t=e.user,n=e.error;return r.a.createElement(at,{cb:this.cb,data:a,registerCallback:this.registerCallback,user:t,msg:this.state.msg,error:n})}}]),a}(n.Component),et=Object($.b)((function(e){return{error:e.error,allUsers:e.auth.allUsers,user:e.auth.user}}),{clearErrors:se,loadAllUsers:function(){return function(e,a){e({type:"USER_LOADING"});var t=Ie.a.get("/api/users",_e(a));return t.then((function(a){return e({type:"ALL_USERS_LOADED",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status)),e({type:"AUTH_ERROR"})})),t}},deleteUser:function(e){return function(a,t){Ie.a.delete("/api/users/".concat(e),_e(t)).then((function(t){return a({type:"USER_DELETED",payload:e})})).catch((function(e){return a(ce(e.response.data,e.response.status))}))}},register:Re})(Object(x.a)({})(Ka));function at(e){var a=Object(C.a)((function(e){return{root:{backgroundColor:"#E9EAED",width:"100%"},container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},expansionPanelHeader:{backgroundColor:"#3F51B5",color:"white"}}}))(),t=Object(n.useState)(!1),o=Object(h.a)(t,2),l=o[0],i=o[1],c=Object(n.useState)(!1),s=Object(h.a)(c,2),u=(s[0],s[1]),m=Object(n.useState)(!1),d=Object(h.a)(m,2),p=d[0],g=d[1],E=Object(n.useState)({name:"",email:"",password:"",role:"",company:""}),y=Object(h.a)(E,2),v=y[0],w=y[1],O=Object(n.useState)({name:"",email:"",password:"",role:""}),k=Object(h.a)(O,2),S=k[0],D=k[1],T=function(e){i(!0),g(!0)},L=function(e){D(Object(b.a)({},S,Object(f.a)({},e.target.name,e.target.value)))},A=function(a){g(a),i(!1),e.registerCallback(S)},x=function(e){D(Object(b.a)({},S,{role:e}))};var I=[{name:"id",label:"id",options:{filter:!1,sort:!1}},{name:Q("useradmin.name"),label:Q("useradmin.name"),options:{filter:!0,sort:!0}},{name:Q("useradmin.email"),label:Q("useradmin.email"),options:{filter:!0,sort:!0}},{name:Q("useradmin.role"),label:Q("useradmin.role"),options:{filter:!0,sort:!0}},{name:Q("useradmin.company"),label:Q("useradmin.company"),options:{filter:!0,sort:!0}},{name:Q("useradmin.registerDate"),label:Q("useradmin.registerDate"),options:{filter:!0,sort:!0}}],R=e.data&&e.user?e.data.map((function(e){return[e._id,e.name,e.email,e.role,e.company,new Date(e.register_date).toString()]})):[],F={filter:!0,responsive:"scrollMaxHeight",textLabels:{pagination:{next:Q("MuiDataTable.nextPage"),previous:Q("MuiDataTable.previousPage"),rowsPerPage:Q("MuiDataTable.rowsPerPage"),displayRows:Q("MuiDataTable.displayRows")},toolbar:{search:Q("MuiDataTable.search"),downloadCsv:Q("MuiDataTable.downloadCsv"),print:Q("MuiDataTable.print"),viewColumns:Q("MuiDataTable.viewColumns"),filterTable:Q("MuiDataTable.filterTable")},filter:{title:Q("MuiDataTable.filterTable"),reset:Q("MuiDataTable.filterTitle")},viewColumns:{title:Q("MuiDataTable.viewColumnsTitle")},selectedRows:{text:Q("MuiDataTable.selectedRowsText"),delete:Q("MuiDataTable.delete")}},onRowsDelete:function(a){for(var t=0;t<a.data.length;++t)e.cb(R[a.data[t].index][0]),console.log(a.data[t].index),console.log(R[t])},onRowClick:function(e){w({name:e[1],email:e[2],role:e[3],company:e[4]}),console.log(v)}};return r.a.createElement("div",null,e.msg?r.a.createElement(Xa,{alertMsg:e.msg,title:e.error.id,responsiveDialogCallback:function(){u(!1)},type:"User Admin Error Handling"}):null,r.a.createElement(ua,{items:[[Q("frame.menu"),"/"],[Q("useradmin.route")]]}),r.a.createElement("div",{className:a.container},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(ia.a,{className:a.paper},r.a.createElement(j.a,{variant:"h6",style:{marginBottom:"20px"}},Q("useradmin.userDetail")),r.a.createElement(ba.a,{container:!0,spacing:3},r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{required:!0,id:Q("useradmin.email"),name:"email",label:Q("useradmin.email"),fullWidth:!0,onChange:L})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{required:!0,id:Q("useradmin.name"),name:"name",label:Q("useradmin.name"),fullWidth:!0,onChange:L})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{required:!0,id:Q("useradmin.password"),name:"password",label:Q("useradmin.password"),fullWidth:!0,onChange:L})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{required:!0,id:Q("useradmin.company"),name:"company",label:Q("useradmin.company"),fullWidth:!0,onChange:L})),r.a.createElement(j.a,{variant:"h6",style:{color:"white"}},Q("useradmin.role")),r.a.createElement(Ra.a,{margin:"normal",fullWidth:!0},r.a.createElement(za,{disabled:!1,label:"role",typesOfUser:[{type:"roles",specific:"guest"},{type:"roles",specific:"admin"},{type:"roles",specific:"employer"}],dropdownSelectedCallback:x,onChange:L})),r.a.createElement(ba.a,{item:!0,xs:12},p?r.a.createElement(Va,{callback:A}):null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ia.a,{className:a.paper},r.a.createElement(j.a,{variant:"h6",style:{marginBottom:"20px"}},Q("useradmin.userDetail")),r.a.createElement(ba.a,{container:!0,spacing:3},r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{key:"Confirmation Code",InputProps:{readOnly:!0},fullWidth:!0,value:""!==v.email?v.email:Q("useradmin.email"),name:"email"})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{key:"Confirmation Code",InputProps:{readOnly:!0},fullWidth:!0,name:"name",value:""!==v.name?v.name:Q("useradmin.name")})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{key:"Confirmation Code",InputProps:{readOnly:!0},fullWidth:!0,value:""!==v.role?v.role:Q("useradmin.role"),name:"role"})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{key:"Confirmation Code",InputProps:{readOnly:!0},fullWidth:!0,value:""!==v.company?v.company:Q("useradmin.company"),name:"Email"})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Fa.a,{in:!0},r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:T},r.a.createElement(j.a,{variant:"body1",style:{color:"white"}},Q("useradmin.createUser"))))))))),r.a.createElement("div",{className:a.container},r.a.createElement(va,{title:Q("useradmin.table.title"),data:R,cb:e.cb,columns:I,options:F})))}var tt=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){oe.a.initialize("G-0LQBCYS7PM"),this.props.history.listen((function(e){oe.a.set({page:e.pathname}),oe.a.pageview(e.pathname)}))}},{key:"render",value:function(){this.props.classes;return this.props.user?r.a.createElement(ot,{location:this.props.location,themeCallback:this.props.themeCallback,user:this.props.user}):null}}]),a}(n.Component),nt=ee()(Object(x.a)({root:{display:"flex"}}),Object($.b)((function(e){return{auth:e.auth,user:e.auth.user}}),{clearErrors:se}))(Object(X.g)(tt)),rt=Object(C.a)((function(e){return{root:{display:"flex"},toolbar:{},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(f.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},mobileContainer:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},developer:{backgroundColor:"white"}}}));function ot(e){var a=rt(),t=r.a.useState(!0),n=Object(h.a)(t,2),o=n[0],l=n[1],i=function(){if(!e.user)return-1;for(var a=e.location.pathname.split("/");""===a[a.length-1]&&a.length-1!==0;)a.splice(a.length-1,1);switch(a[a.length-1]){case"dashboard":return"admin"===e.user.role?0:403;case"developer":return"admin"===e.user.role?1:403;case"useradmin":return"admin"===e.user.role?2:403;case"cv":return 3;case"selfIntroduction":return 4;case"frame":return"admin"===e.user.role?0:3;default:return 404}},c=r.a.useState(i()),s=Object(h.a)(c,2),u=(s[0],s[1]),m=Object(le.useMediaQuery)({query:"(max-device-width: 700px)"}),d=r.a.createElement(E.a,{position:"absolute",className:Object(I.a)(a.appBar,o&&a.appBarShift)},r.a.createElement(S.a,{className:a.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(I.a)(a.menuButton,o&&a.menuButtonHidden)},r.a.createElement(A.a,null)),m?null:r.a.createElement(j.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},Q("frame.adminApp")),m&&!o||!m?r.a.createElement(k.a,{timeout:600,direction:"left",in:m&&!o||!m},r.a.createElement("div",null,r.a.createElement(He,{themeCallback:function(a){e.themeCallback(a)}}))):null)),p=r.a.createElement(w.a,{variant:"permanent",classes:{paper:Object(I.a)(a.drawerPaper,!o&&a.drawerPaperClose)},open:o},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(O.a,{onClick:function(){l(!1)}},r.a.createElement(T.a,null))),r.a.createElement(la,{callback:function(e){u(e),m&&l(!1)},currentIndex:i,role:e.user.role})),g=i(),f=403===g||404===g;return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(re,{code:g}):r.a.createElement("div",{className:a.root},r.a.createElement(v.a,null),d,p,r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(k.a,{timeout:500,direction:"left",in:!o||!m},r.a.createElement(y.a,{maxWidth:"xl",className:m?a.mobileContainer:a.container},r.a.createElement(X.b,{exact:!0,path:"/frame",render:function(){return console.log(e.user.role),"admin"===e.user.role?r.a.createElement(X.a,{to:"/frame/dashboard"}):r.a.createElement(X.a,{to:"/frame/cv"})}}),"admin"===e.user.role?r.a.createElement(X.d,null,r.a.createElement(X.b,{exact:!0,path:"/frame/dashboard"},r.a.createElement(ja,{isSmallScreen:m})),r.a.createElement(X.b,{exact:!0,path:"/frame/developer"},r.a.createElement(xa,{isSmallScreen:m,className:a.developer})),r.a.createElement(X.b,{exact:!0,path:"/frame/useradmin"},r.a.createElement(et,{isSmallScreen:m})),r.a.createElement(X.b,{exact:!0,path:"/frame/cv"},r.a.createElement(ha,{isSmallScreen:m}))):r.a.createElement(X.d,null,r.a.createElement(X.b,{exact:!0,path:"/frame/cv"},r.a.createElement(ha,{isSmallScreen:m}))))))))}t(1443);var lt=t(1501),it=t(1496),ct=t(571),st=t(338),ut=t.n(st),mt=t(1499),dt=Object(C.a)({root:{position:"relative"},top:{color:"#eef3fd"},bottom:{color:"#6798e5",animationDuration:"550ms",position:"absolute",left:0}});function pt(e){var a=dt();return r.a.createElement("div",{className:a.root},r.a.createElement(_a.a,Object.assign({variant:"determinate",value:100,className:a.top,size:24,thickness:4},e)),r.a.createElement(_a.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:a.bottom,size:24,thickness:4},e)))}var gt=Object(p.a)({spacing:4}),ht={root:{backgroundColor:"black",flexGrow:1,height:"100vh",overflow:"auto"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===localStorage.getItem("theme")?gt.palette.grey[900]:gt.palette.grey[300],backgroundSize:"cover",backgroundPosition:"center"},paper:{padding:gt.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},content:{padding:gt.spacing(4,4),display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20%"},avatar:{margin:gt.spacing(1),backgroundColor:gt.palette.secondary.main},form:{width:"100%",marginTop:gt.spacing(1)},submit:{margin:gt.spacing(3,0,2)}},ft=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",msg:null,selectedRole:"",forgotPasswordClicked:!1,checked:!1,isLoading:!1},t.toggle=function(){t.props.clearErrors()},t.onChange=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault(),t.setState({isLoading:!0});var a=t.state,n={email:a.email,password:a.password};t.props.login(n),t.toggle()},t.callback=function(e){e&&(t.setState({isLoading:!1}),t.handleLoginSuccess(),t.props.history.push("/frame/"))},t.handleLoginSuccess=function(){var e=t.props.user,a=e._id,n={name:e.name,email:e.email,role:e.role,company:e.company,explanation:"user logged in",type:"LOGIN"};t.props.logLoginSuccess(a,n),t.toggle()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.error;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=(a.isTFAing,a.userLoaded),o=a.error,l=(a.isLoading,this.state),i=l.email,c=l.msg,s=function(){e.setState({isLoading:!1})},u=function(a,t){"clickaway"!==t&&e.setState({forgotPasswordClicked:!1})};return r.a.createElement("div",{style:{backgroundColor:"#E9EAED"}},r.a.createElement(it.a,{open:this.state.forgotPasswordClicked,autoHideDuration:6e3,onClose:u},r.a.createElement((function(e){return r.a.createElement(mt.a,Object.assign({elevation:6,variant:"filled"},e))}),{onClose:u,severity:"success"},"Resgister a new one :)")),n?r.a.createElement(Xa,{alertMsg:"Download google authenticator app from any app store, scan the QRCode, enter the code shown on the app and submit",title:"Google Two-Factor Auth",email:i,cb:this.callback,selectedRole:this.state.selectedRole,responsiveDialogCallback:s}):null,r.a.createElement(ba.a,{container:!0,className:t.root},r.a.createElement(v.a,null),r.a.createElement(ba.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(ba.a,{item:!0,xs:12,sm:8,md:5,component:ia.a,elevation:6,square:!0,style:{backgroundColor:"dark"===localStorage.getItem("theme")?gt.palette.grey[700]:gt.palette.grey[300]}},r.a.createElement(y.a,{className:t.content},r.a.createElement(ia.a,{className:t.paper},r.a.createElement(ct.a,{title:"click me :)"},r.a.createElement(lt.a,{className:t.avatar},r.a.createElement(ut.a,{className:"animation"}))),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Welcome!"),this.state.msg?r.a.createElement(Xa,{alertMsg:c,title:o.id,responsiveDialogCallback:s}):null,r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Na.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:this.onChange}),r.a.createElement(Na.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange}),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:this.state.isLoading,className:t.submit,onClick:this.onSubmit},this.state.isLoading?r.a.createElement(pt,null):r.a.createElement(j.a,null,"Sign In")),r.a.createElement(ba.a,{container:!0},r.a.createElement(ba.a,{item:!0,xs:!0},r.a.createElement(ra.c,{to:"#",variant:"body2",onClick:function(){return e.setState({forgotPasswordClicked:!0})},style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},"Forgot password?")),r.a.createElement(ba.a,{item:!0},r.a.createElement(ra.c,{to:"./signup",variant:"body2",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},"Don't have an account? Sign Up")))))))))}}]),a}(n.Component),bt=ee()(Object(x.a)(ht),Object($.b)((function(e){return{error:e.error,userLoaded:e.auth.userLoaded,isTFAing:e.auth.isTFAing,user:e.auth.user}}),{login:function(e){var a=e.email,t=e.password;return function(e){e({type:"LOADING"});var n=JSON.stringify({email:a,password:t});return Ie.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(a){return e({type:"LOGIN_SUCCESS",payload:a.data})})).catch((function(a){e(ce(a.response.data,a.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},clearErrors:se,logLoginSuccess:function(e,a){return function(t,n){var r=JSON.stringify({log:a});Ie.a.patch("/api/users/".concat(e,"/logs"),r,_e(n)).then((function(e){return t({type:"LOGIN_LOGGED"})})).catch((function(e){t(ce(e.response.data,e.response.status))}))}}}))(Object(X.g)(ft)),Et=t(694),yt=t(573),vt=t(206),wt=t(204),Ot=t(574),kt=t(736),Ct=t.n(kt),St=t(738),jt=t.n(St),Dt=t(737),Tt=t.n(Dt),Lt=t(339),At=t.n(Lt),xt=Object(F.a)({root:{color:Ua.a[400],"&$checked":{color:Ua.a[600]}},checked:{}})((function(e){return r.a.createElement(Et.a,Object.assign({color:"default"},e))})),It=Object(F.a)({root:{color:vt.a[400],"&$checked":{color:vt.a[600]}},checked:{}})((function(e){return r.a.createElement(Et.a,Object.assign({color:"default"},e))})),Nt=Object(F.a)({root:{color:wt.a[400],"&$checked":{color:wt.a[600]}},checked:{}})((function(e){return r.a.createElement(Et.a,Object.assign({color:"default"},e))}));function Rt(e){var a=r.a.useState(!1),t=Object(h.a)(a,2),n=t[0],o=t[1],l=r.a.useState(!1),i=Object(h.a)(l,2),c=i[0],s=i[1],u=r.a.useState(!1),m=Object(h.a)(u,2),d=m[0],p=m[1],g=function(a){o(!1),s(!1),p(!1),e.roleSelectedCallback(a),"admin"===a&&o(!0),"employer"===a&&s(!0),"guest"===a&&p(!0)};return r.a.createElement(Ot.a,{row:!0},r.a.createElement(yt.a,{control:r.a.createElement(xt,{checked:n,icon:r.a.createElement(At.a,{color:"disabled"}),checkedIcon:r.a.createElement(Ct.a,null),onChange:function(){return g("admin")},value:"admin"}),label:"admin"}),r.a.createElement(yt.a,{control:r.a.createElement(It,{checked:c,icon:r.a.createElement(At.a,{color:"disabled"}),checkedIcon:r.a.createElement(Tt.a,null),onChange:function(){return g("employer")},value:"employer"}),label:"employer"}),r.a.createElement(yt.a,{control:r.a.createElement(Nt,{checked:d,icon:r.a.createElement(At.a,{color:"disabled"}),checkedIcon:r.a.createElement(jt.a,null),onChange:function(){return g("guest")},value:"guest"}),label:"guest"}))}var Ft=Object(p.a)({spacing:4}),_t={content:{flexGrow:1,height:"100vh",overflow:"auto"},root:{backgroundColor:"dark"===localStorage.getItem("theme")?Ft.palette.grey[900]:Ft.palette.grey[300]},paper:{padding:Ft.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30%"},avatar:{margin:Ft.spacing(1),backgroundColor:Ft.palette.secondary.main},form:{width:"100%",marginTop:Ft.spacing(3)},submit:{margin:Ft.spacing(3,0,2)}},Ut=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",msg:null,selectedRole:"",checked:!1,company:"",isLoading:!1},t.toggle=function(){t.props.clearErrors()},t.onChange=function(e){t.setState(Object(f.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,r=a.email,o=a.password,l=a.selectedRole,i=a.company;t.setState({isLoading:!0});var c={name:n,email:r,password:o,role:l,company:i};t.props.register(c),t.toggle()},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.error;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.error,o=(a.isLoading,function(){e.setState({isLoading:!1})});return r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{maxWidth:"sm",className:t.content},r.a.createElement(v.a,null),r.a.createElement(ia.a,{className:t.paper},r.a.createElement(ct.a,{title:"click me :)"},r.a.createElement(lt.a,{className:t.avatar},r.a.createElement(ut.a,{className:"animation"}))),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),this.state.msg?r.a.createElement(Xa,{alertMsg:this.state.msg,title:n.id,responsiveDialogCallback:o}):null,!this.state.msg&&this.props.successMsg?r.a.createElement(Xa,{alertMsg:this.props.successMsg,title:"congrads!",responsiveDialogCallback:o}):null,r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(ba.a,{container:!0,spacing:2},r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,onChange:this.onChange})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.onChange})),r.a.createElement(ba.a,{item:!0,xs:12},r.a.createElement(Na.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange})),r.a.createElement(ba.a,{item:!0,xs:12},"employer"===this.state.selectedRole?r.a.createElement(k.a,{direction:"left",in:!0},r.a.createElement(Na.a,{variant:"outlined",required:!0,fullWidth:!0,name:"company",label:"company(optional)",type:"company",id:"company",onChange:this.onChange})):null),r.a.createElement(Rt,{roleSelectedCallback:function(a){e.setState({selectedRole:a})}}),"admin"!==this.state.selectedRole&&""!==this.state.selectedRole?r.a.createElement(k.a,{in:!0,direction:"right"},r.a.createElement(ba.a,{container:!0},r.a.createElement(yt.a,{control:r.a.createElement(Et.a,{onChange:function(){e.setState({checked:!e.state.checked})},color:"primary"}),label:"page views, downloads, login info will be stored in my mongodb database"}))):null),r.a.createElement(N.a,{disabled:"employer"===this.state.selectedRole&&!this.state.checked||this.state.isLoading,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.onSubmit},this.state.isLoading?r.a.createElement(pt,null):r.a.createElement(j.a,null,"Sign Up")),r.a.createElement(ba.a,{container:!0,justify:"center"},r.a.createElement(ba.a,{item:!0},r.a.createElement(ra.c,{to:"/signin",variant:"body2",style:{textDecoration:"none",color:"dark"===localStorage.getItem("theme")?"white":"black"}},"go back")))))))}}]),a}(n.Component),Mt=ee()(Object(x.a)(_t),Object($.b)((function(e){return{error:e.error,userLoaded:e.auth.userLoaded,successMsg:e.auth.successMsg}}),{register:Re,clearErrors:se}))(Object(X.g)(Ut)),Gt=Object(p.a)({palette:{primary:"dark"===localStorage.getItem("theme")?{main:"#303f9f"}:{main:"#1976d2"},type:"dark"==localStorage.getItem("theme")?"dark":"light"}},"en"===localStorage.getItem("language")?d.a:d.b),Pt=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={theme:Gt},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){var e=this,a=this.state.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{theme:a},r.a.createElement(ra.a,{basename:"/"},r.a.createElement(X.b,{exact:!0,path:"/signin",component:bt}),r.a.createElement(X.b,{exact:!0,path:"/signup",component:Mt}),this.props.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.d,null,r.a.createElement(X.b,{path:"/frame"},r.a.createElement(nt,{themeCallback:function(){e.setState({theme:Object(p.a)({palette:{primary:"dark"===localStorage.getItem("theme")?{main:"#303f9f"}:{main:"#1976d2"},type:"dark"==localStorage.getItem("theme")?"dark":"light"}},"en"==localStorage.getItem("language")?d.a:d.b)})}})),r.a.createElement(X.b,{render:function(){return r.a.createElement(re,{code:"404"})}})),r.a.createElement(X.b,{exact:!0,path:"/",render:function(){return r.a.createElement(X.a,{to:"/frame"})}})):r.a.createElement(X.d,null,r.a.createElement(X.b,{exact:!0,path:"/",render:function(){return r.a.createElement(X.a,{to:"/signin"})}}),r.a.createElement(X.b,{render:function(){return r.a.createElement(re,{code:"401"})}})))))}}]),a}(n.Component),Bt=Object($.b)((function(e){return{user:e.auth.user,authenticated:e.auth.authenticated}}),{loadUser:Ne})(Pt),Wt=t(136),Vt=t(739),Ht={msg:{},status:null,id:null},zt={token:localStorage.getItem("token"),isLoading:!1,userLoaded:!1,user:null,TFA:null,TFALoaded:!1,isTFAing:!1,successMsg:null,allUsers:[],authenticated:!1},qt={swaggerUIDocs:null,isLoading:!1},Jt={swaggerUIDocs:null,isLoading:!1,allLogs:null},Qt=Object(Wt.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return{msg:a.payload.msg,status:a.payload.status,id:a.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":case"USER_LOADING":return Object(b.a)({},e,{isLoading:!0});case"ALL_USERS_LOADED":return Object(b.a)({},e,{allUsers:a.payload,isLoading:!1});case"USER_LOADED":return Object(b.a)({},e,{isLoading:!1,userLoaded:!0,user:a.payload});case"USER_DELETED":return Object(b.a)({},e,{allUsers:e.allUsers.filter((function(e){return e._id!==a.payload}))});case"REGISTER_SUCCESS":return Object(b.a)({},e,{successMsg:"registration successfull"});case"LOGIN_SUCCESS":return console.log(a.payload.token),localStorage.setItem("token",a.payload.token),Object(b.a)({},e,{},a.payload,{isLoading:!1,userLoaded:!0});case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),localStorage.removeItem("authenticated"),Object(b.a)({},zt,{token:localStorage.getItem("token"),authenticated:!1});case"AUTH_ERROR":case"LOGIN_FAIL":return localStorage.removeItem("token"),localStorage.removeItem("authenticated"),Object(b.a)({},e,{user:null,isLoading:!1,userLoaded:!1,token:localStorage.getItem("token"),authenticated:!1});case"REGISTER_FAIL":return Object(b.a)({},e,{isLoading:!1});case"TFA_SETUP_FAIL":case"TFA_VERIFY_FAIL":case"TFA_LOAD_FAIL":return Object(b.a)({},e,{isTFAing:!1});case"TFA_SETUP_SUCCESS":case"TFA_LOADED":return Object(b.a)({},e,{TFA:a.payload,TFALoaded:!0,isTFAing:!1});case"TFA_VERIFED":return localStorage.setItem("authenticated",!0),Object(b.a)({},e,{TFA:null,isTFAing:!1,authenticated:!0});case"TFA_SETUP_SUCCESS":return Object(b.a)({},e,{TFA:a.payload,TFALoaded:!0,isTFAing:!1});default:return Object(b.a)({},e,{authenticated:"true"===localStorage.getItem("authenticated")})}},developer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_SWAGGER_UI_ERROR":return Object(b.a)({},e,{isLoading:!1});case"SWAGGER_UI_LOADED":return Object(b.a)({},e,{swaggerUIDocs:a.payload,isLoading:!1});case"LOADING":return Object(b.a)({},e,{isLoading:!0});default:return Object(b.a)({},e)}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_LOGGED":case"DOWNLOAD_LOGGED":case"LOG_DELETED":return Object(b.a)({},e,{isLoading:!1});case"ALL_LOGS_LOADED":return Object(b.a)({},e,{allLogs:a.payload,isLoading:!1});case"LOADING":return Object(b.a)({},e,{isLoading:!0});default:return Object(b.a)({},e)}}}),Zt=[Vt.a],Yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Wt.d,$t=Object(Wt.e)(Qt,{},Yt(Wt.a.apply(void 0,Zt))),Xt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Kt(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement($.a,{store:$t},r.a.createElement(Bt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");Xt?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Kt(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Kt(a,e)}))}}()},272:function(e,a,t){},274:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=274},726:function(e,a,t){e.exports=t.p+"static/media/Mark_Zhu_CV.911488c6.pdf"},753:function(e,a,t){e.exports=t(1444)},832:function(e,a){},834:function(e,a){},835:function(e,a){},836:function(e,a){},837:function(e,a){}},[[753,1,2]]]);
//# sourceMappingURL=main.93a8d9f3.chunk.js.map